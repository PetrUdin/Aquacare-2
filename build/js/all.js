(()=>{function e(e,t,n,r,o,l,a){try{var c=e[l](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".header__burger"),t=document.querySelector(".header__menu"),n=document.querySelector(".burger-bg");e.addEventListener("click",(function(){e.classList.toggle("active"),t.classList.toggle("active"),n.classList.toggle("active"),document.body.classList.toggle("jactive")}));var r=document.querySelectorAll('input[type="tel"]');console.log(r),new Inputmask("+7 (999) 999-99-99").mask(r),new window.JustValidate(".form",{rules:{email:{required:!0,email:!0},tel:{required:!0}},submitHandler:function(e){}}),window.onscroll=function(){document.body.scrollTop>150||document.documentElement.scrollTop>150?(document.querySelector(".header__logo").classList.add("scroll"),document.querySelector(".header__nav").classList.add("scroll"),document.querySelector(".header__burger").classList.add("scroll"),document.querySelector(".header__btn").classList.add("scroll")):(document.querySelector(".header__logo").classList.remove("scroll"),document.querySelector(".header__nav").classList.remove("scroll"),document.querySelector(".header__burger").classList.remove("scroll"),document.querySelector(".header__btn").classList.remove("scroll"))},window.addEventListener("load",(function(){!function(){var e,t,n,r,l,a,c,s,i,u,d,v,h,m,f,p,y,g,x,L,_,b,q,S,M,w,E,k,j,V,Y,P,X,I,C,T,z,A=document.getElementById("sphere"),Z=document.getElementById("sphere-wrap"),R=A.getContext("2d");function D(){r=(n=1)-1,l=8,S="rgba(220, 20, 60,",s=1,e=A.width=Z.offsetWidth,t=A.height=Z.offsetHeight,d=e/3,v=t/2,h=(i=320)-2,a={},c={},L=.1,_=.1,b=.1,q=-0,g=2.5,p=0,y=-453,x=-750,f=2*Math.PI/1200,m=0,setInterval(W,10/24)}function W(){if(++r>=n)for(r=0,P=0;P<l;P++){X=2*Math.random()*Math.PI,I=Math.acos(2*Math.random()-1),C=o*Math.sin(I)*Math.cos(X),T=o*Math.sin(I)*Math.sin(X),z=o*Math.cos(I);var c=B(C,p+T,y+z,.002*C,.002*T,.002*z);c.attack=50,c.hold=50,c.decay=100,c.initValue=0,c.holdValue=s,c.lastValue=0,c.stuckTime=90+20*Math.random(),c.accelX=0,c.accelY=q,c.accelZ=0}for(m=(m+f)%(2*Math.PI),E=Math.sin(m),k=Math.cos(m),R.clearRect(0,0,e,t),M=a.first;null!=M;)w=M.next,M.age++,M.age>M.stuckTime&&(M.velX+=M.accelX+L*(2*Math.random()-1),M.velY+=M.accelY+_*(2*Math.random()-1),M.velZ+=M.accelZ+b*(2*Math.random()-1),M.x+=M.velX,M.y+=M.velY,M.z+=M.velZ),j=k*M.x+E*(M.z-y),V=-E*M.x+k*(M.z-y)+y,u=1.2*i/(i-V),M.projX=j*u+d,M.projY=M.y*u+v,M.age<M.attack+M.hold+M.decay?M.age<M.attack?M.alpha=(M.holdValue-M.initValue)/M.attack*M.age+M.initValue:M.age<M.attack+M.hold?M.alpha=M.holdValue:M.age<M.attack+M.hold+M.decay&&(M.alpha=(M.lastValue-M.holdValue)/M.decay*(M.age-M.attack-M.hold)+M.holdValue):M.dead=!0,M.projX>e||M.projX<0||M.projY<0||M.projY>t||V>h||M.dead?H(M):(Y=(Y=1-V/x)>1?1:Y<0?0:Y,R.fillStyle=S+Y*M.alpha+")",R.beginPath(),R.arc(M.projX,M.projY,u*g,0,2*Math.PI,!1),R.closePath(),R.fill()),M=w}function B(e,t,n,r,o,l){var s;return null!=c.first?null!=(s=c.first).next?(c.first=s.next,s.next.prev=null):c.first=null:s={},null==a.first?(a.first=s,s.prev=null,s.next=null):(s.next=a.first,a.first.prev=s,a.first=s,s.prev=null),s.x=e,s.y=t,s.z=n,s.velX=r,s.velY=o,s.velZ=l,s.age=0,s.dead=!1,Math.random()<.5?s.right=!0:s.right=!1,s}function H(e){a.first==e?null!=e.next?(e.next.prev=null,a.first=e.next):a.first=null:null==e.next?e.prev.next=null:(e.prev.next=e.next,e.next.prev=e.prev),null==c.first?(c.first=e,e.prev=null,e.next=null):(e.next=c.first,c.first.prev=e,c.first=e,e.prev=null)}D(),window.addEventListener("resize",D,!1)}()}),!1);var o=450}));var t=document.querySelector(".services__titles");function n(){content.forEach((function(e){e.style.display="none"})),tab.forEach((function(e){e.classList.remove("select")}))}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;content[e].style.display="flex",tab[e].classList.add("select")}tab=document.querySelectorAll(".services__title"),content=document.querySelectorAll(".services__content"),n(),r(),t.addEventListener("click",(function(e){var t=e.target;tab.forEach((function(e,o){t!==e&&t.parentNode!==e||(n(),r(o))}))}));var o=document.querySelectorAll(".btn__popup"),l=document.querySelector(".popup"),a=document.querySelector(".popup__close"),c=function(){var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return e.remove(),t}();console.log(c),o.forEach((function(e){e.addEventListener("click",(function(){document.body.style.marginRight="15px",l.classList.toggle("popup-active"),document.body.classList.add("jactive")}))})),a.addEventListener("click",(function(){l.classList.remove("popup-active"),document.body.classList.remove("jactive")})),document.addEventListener("click",(function(e){e.target==l&&(l.classList.remove("popup-active"),document.body.classList.remove("jactive"))}));var s=document.querySelector(".form"),i=document.querySelectorAll("input"),u=function(){var t,n=(t=regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.querySelector(".status").textContent="Загрузка...",e.next=3,fetch(t,{method:"POST",body:n});case 3:return r=e.sent,e.next=6,r.text();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(o,l){var a=t.apply(n,r);function c(t){e(a,o,l,c,s,"next",t)}function s(t){e(a,o,l,c,s,"throw",t)}c(void 0)}))});return function(e,t){return n.apply(this,arguments)}}();s.addEventListener("submit",(function(e){e.preventDefault();var t=document.createElement("div");t.classList.add("status"),s.appendChild(t);var n=new FormData(s);u("server.php",n).then((function(e){console.log(e),t.textContent="Спасибо! Скоро мы с Вами свяжемся"})).catch((function(){return t.textContent="Что-то пошло не так..."})).finally((function(){i.forEach((function(e){e.value=""})),setTimeout((function(){t.remove()}),5e3)}))}))})();